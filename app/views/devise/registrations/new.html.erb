<%= render layout: 'daybackground' do %>
  <div class="container-fluid signup transition-fade">
    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <%= f.error_notification %>
    
      <div class="wizard">
        <div class="wizard-step col-10 col-sm-8 col-md-6 col-lg-4 m-auto">
          <%= f.input :name,
                      input_html: { class: "signup-form-input" },
                      label: "What's your name?",             
                      required: false,
                      autofocus: true,
                      placeholder: "First name is fine..." %>
        <a href="#" onClick=second.scrollIntoView() class="signup-next" data-turbolinks="false">Next</a>
        </div>
        

        <div class="wizard-step col-10 col-sm-8 col-md-6 col-lg-4 m-auto" id="secondstep" >
          <%= f.input :city_name,
                      input_html: { class: "signup-form-input" },
                      label: "Where are you located near?",
                      required: false,
                      autofocus: true,
                      placeholder: "Cities are best" %>
          <a href="#" onClick=last.scrollIntoView() class="signup-next" data-turbolinks="false">Next</a>
        </div>
      
        <div class="wizard-step col-10 m-auto" id="laststep" >
          <%= f.input :email,
                      input_html: { class: "signup-form-input" },
                      label: "What's you email?",
                      required: false,
                      autofocus: true,
                      placeholder: "We won't share it"%>
          <%= f.input :password,
                      input_html: { class: "signup-form-input" },
                      required: false,
                      placeholder: "password" %>  
          <%= f.button :submit, "Sign up", class: "sign-up-btn" %>
        </div>

      </div>
    <% end %>
  </div>
<% end %>


<script src="https://cdn.jsdelivr.net/npm/places.js@1.19.0"></script>
<script>
var placesAutocomplete = places({
    appId: 'R0TERLT9UD',
    apiKey: 'af10ffd85e5d0e370c59289403a5a685',
    container: document.getElementById('user_city_name')
  }).configure({
    type: 'city',
    hitsPerPage: 1,
    aroundLatLngViaIP: true
  });

placesAutocomplete.search().then(function(suggestions) {
  if (!suggestions[0]) {
    return;
  }

  var name = suggestions[0].name;
  var country = suggestions[0].country;
  var formattedCity = locale_names[0] + ', ' + country;

  var infoElt = document.getElementById('user_city_name');
  infoElt.value = formattedCity;
});
</script>



<script> 
  const second = document.getElementById('secondstep')
  const last = document.getElementById('laststep')
</script>

